{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/dabit/opensource/aws-amplify-auth-starters/src/nav/auth/SignUp.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Fragment, Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Input, ActionButton } from \"../../components\";\nimport { Auth } from 'aws-amplify';\n\nvar SignIn = function (_Component) {\n  _inherits(SignIn, _Component);\n\n  var _super = _createSuper(SignIn);\n\n  function SignIn() {\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      username: '',\n      password: '',\n      email: '',\n      phone_number: '',\n      authCode: '',\n      stage: 0\n    };\n\n    _this.onChangeText = function (key, value) {\n      _this.setState(_defineProperty({}, key, value));\n    };\n\n    _this.signUp = function _callee() {\n      var _this$state, username, password, email;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state = _this.state, username = _this$state.username, password = _this$state.password, email = _this$state.email;\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(Auth.signUp({\n                username: username,\n                password: password,\n                attributes: {\n                  email: email\n                }\n              }));\n\n            case 4:\n              console.log('successful sign up..');\n\n              _this.setState({\n                stage: 1\n              });\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log('error signing up...', _context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 8]], Promise);\n    };\n\n    _this.confirmSignUp = function _callee2() {\n      var _this$state2, username, authCode;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$state2 = _this.state, username = _this$state2.username, authCode = _this$state2.authCode;\n              _context2.prev = 1;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(Auth.confirmSignUp(username, authCode));\n\n            case 4:\n              _this.props.toggleAuthType('showSignIn');\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log('error signing up...', _context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[1, 7]], Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, this.state.stage === Number(0) && React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }, React.createElement(Input, {\n        placeholder: \"Username\",\n        type: \"username\",\n        onChangeText: this.onChangeText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }\n      }), React.createElement(Input, {\n        placeholder: \"Password\",\n        type: \"password\",\n        onChangeText: this.onChangeText,\n        secureTextEntry: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }\n      }), React.createElement(Input, {\n        placeholder: \"Email\",\n        type: \"email\",\n        onChangeText: this.onChangeText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }\n      }), React.createElement(ActionButton, {\n        title: \"Sign Up\",\n        onPress: this.signUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      })), this.state.stage === Number(1) && React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, React.createElement(Input, {\n        placeholder: \"Confirmation Code\",\n        type: \"authCode\",\n        onChangeText: this.onChangeText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }), React.createElement(ActionButton, {\n        title: \"Confirm Sign Up\",\n        onPress: this.confirmSignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }\n      })));\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {},\n  input: {\n    backgroundColor: '#fcf3db',\n    borderRadius: 30,\n    height: 45\n  }\n});\nexport default SignIn;","map":{"version":3,"sources":["/Users/dabit/opensource/aws-amplify-auth-starters/src/nav/auth/SignUp.js"],"names":["React","Fragment","Component","Input","ActionButton","Auth","SignIn","state","username","password","email","phone_number","authCode","stage","onChangeText","key","value","setState","signUp","attributes","console","log","confirmSignUp","props","toggleAuthType","styles","container","Number","StyleSheet","create","input","backgroundColor","borderRadius","height"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AAGA,SAASC,KAAT,EAAgBC,YAAhB;AACA,SAASC,IAAT,QAAqB,aAArB;;IAEMC,M;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,YAAY,EAAE,EAJR;AAKNC,MAAAA,QAAQ,EAAE,EALJ;AAMNC,MAAAA,KAAK,EAAE;AAND,K;;UAQRC,Y,GAAe,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC7B,YAAKC,QAAL,qBAAiBF,GAAjB,EAAuBC,KAAvB;AACD,K;;UACDE,M,GAAS;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BAGH,MAAKX,KAHF,EAELC,QAFK,eAELA,QAFK,EAEKC,QAFL,eAEKA,QAFL,EAEeC,KAFf,eAEeA,KAFf;AAAA;AAAA;AAAA,+CAKCL,IAAI,CAACa,MAAL,CAAY;AAAEV,gBAAAA,QAAQ,EAARA,QAAF;AAAYC,gBAAAA,QAAQ,EAARA,QAAZ;AAAsBU,gBAAAA,UAAU,EAAE;AAAET,kBAAAA,KAAK,EAALA;AAAF;AAAlC,eAAZ,CALD;;AAAA;AAMLU,cAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;;AACA,oBAAKJ,QAAL,CAAc;AAAEJ,gBAAAA,KAAK,EAAE;AAAT,eAAd;;AAPK;AAAA;;AAAA;AAAA;AAAA;AASLO,cAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;;AATK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UAYTC,a,GAAgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BACiB,MAAKf,KADtB,EACNC,QADM,gBACNA,QADM,EACII,QADJ,gBACIA,QADJ;AAAA;AAAA;AAAA,+CAGNP,IAAI,CAACiB,aAAL,CAAmBd,QAAnB,EAA6BI,QAA7B,CAHM;;AAAA;AAIZ,oBAAKW,KAAL,CAAWC,cAAX,CAA0B,YAA1B;;AAJY;AAAA;;AAAA;AAAA;AAAA;AAMZJ,cAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;;AANY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;6BASP;AACP,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEI,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,KAAKnB,KAAL,CAAWM,KAAX,KAAqBc,MAAM,CAAC,CAAD,CAA3B,IACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,UADd;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,YAAY,EAAE,KAAKb,YAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,UADd;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,YAAY,EAAE,KAAKA,YAHrB;AAIE,QAAA,eAAe,MAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAYE,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,OADd;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,YAAY,EAAE,KAAKA,YAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,EAwBE,oBAAC,YAAD;AACE,QAAA,KAAK,EAAC,SADR;AAEE,QAAA,OAAO,EAAE,KAAKI,MAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxBF,CAHN,EAmCI,KAAKX,KAAL,CAAWM,KAAX,KAAqBc,MAAM,CAAC,CAAD,CAA3B,IACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,WAAW,EAAC,mBADd;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,YAAY,EAAE,KAAKb,YAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME,oBAAC,YAAD;AACE,QAAA,KAAK,EAAC,iBADR;AAEE,QAAA,OAAO,EAAE,KAAKQ,aAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CApCN,CADF;AAoDD;;;;EAtFkBpB,S;;AAyFrB,IAAMuB,MAAM,GAAGG,UAAU,CAACC,MAAX,CAAkB;AAC/BH,EAAAA,SAAS,EAAE,EADoB;AAG/BI,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAE,SADZ;AAELC,IAAAA,YAAY,EAAE,EAFT;AAGLC,IAAAA,MAAM,EAAE;AAHH;AAHwB,CAAlB,CAAf;AAUA,eAAe3B,MAAf","sourcesContent":["import React, { Fragment, Component } from 'react'\nimport { View, StyleSheet } from 'react-native'\n\nimport { Input, ActionButton } from '../../components'\nimport { Auth } from 'aws-amplify'\n\nclass SignIn extends Component {\n  state = {\n    username: '',\n    password: '',\n    email: '',\n    phone_number: '',\n    authCode: '',\n    stage: 0\n  }\n  onChangeText = (key, value) => {\n    this.setState({ [key]: value })\n  }\n  signUp = async () => {\n    const {\n      username, password, email\n    } = this.state\n    try {\n      await Auth.signUp({ username, password, attributes: { email }})\n      console.log('successful sign up..')\n      this.setState({ stage: 1 })\n    } catch (err) {\n      console.log('error signing up...', err)\n    }\n  }\n  confirmSignUp = async () => {\n    const { username, authCode } = this.state\n    try {\n      await Auth.confirmSignUp(username, authCode)\n      this.props.toggleAuthType('showSignIn')\n    } catch (err) {\n      console.log('error signing up...', err)\n    }\n  }\n  render() {\n    return (\n      <View style={styles.container}>\n        {\n          this.state.stage === Number(0) && (\n            <Fragment>\n              <Input\n                placeholder='Username'\n                type='username'\n                onChangeText={this.onChangeText}\n              />\n              <Input\n                placeholder='Password'\n                type='password'\n                onChangeText={this.onChangeText}\n                secureTextEntry\n              />\n              <Input\n                placeholder='Email'\n                type='email'\n                onChangeText={this.onChangeText}\n              />\n              {/* \n              If you would like to enable phone number as an attribute, uncomment this field\n              <Input\n                placeholder='Phone Number'\n                type='phone_number'\n                onChangeText={this.onChangeText}\n              /> */}\n              <ActionButton\n                title='Sign Up'\n                onPress={this.signUp}\n              />\n            </Fragment>\n          )\n        }\n        {\n          this.state.stage === Number(1) && (\n            <Fragment>\n              <Input\n                placeholder='Confirmation Code'\n                type='authCode'\n                onChangeText={this.onChangeText}\n              />\n              <ActionButton\n                title='Confirm Sign Up'\n                onPress={this.confirmSignUp}\n              />\n            </Fragment>\n          )\n        }\n      </View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n  },\n  input: {\n    backgroundColor: '#fcf3db',\n    borderRadius: 30,\n    height: 45\n  }\n})\n\nexport default SignIn"]},"metadata":{},"sourceType":"module"}